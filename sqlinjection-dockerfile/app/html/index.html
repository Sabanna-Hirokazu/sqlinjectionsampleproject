<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>サンプルSQLインジェクション</title>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
	</head>
	<body>
		<nav class="navbar navbar-dark bg-primary">
			<div class="container-fluid">
				<a class="navbar-brand">SQLインジェクション テストサイト</a>
			</div>
		</nav>

		<div class="container mt-3" style="margin-top: 10px;>

		<div class="card">
                <div class="card-body">
		<h5 class="card-title">SQLインジェクション サンプル</h5>
		<p class="card-text">下記のフォームに入力することでSQLインジェクションの動作を再現することができる</p>
		<a href="#" id="myInput" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
			データベースの中身をみる
		</a>
		</div></div>
		</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">データベースの中身</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table">
  	  <thead>
    	    <tr>
      		<th scope="col">ID</th>
      		<th scope="col">名前</th>
      		<th scope="col">年齢</th>
      		<th scope="col">住所</th>
    	    </tr>
  	  </thead>
	<tbody>
    	<tr>
	    <th scope="row">1</th>
	    <td>たろう</td>
	    <td>21</td>
	    <td>東京都新宿区1丁目2番地3</td>
	</tr>
    	<tr>
	    <th scope="row">2</th>
	    <td>じろう</td>
	    <td>43</td>
	    <td>東京都新宿区2丁目3番地4</td>
	</tr>
    	<tr>
	    <th scope="row">3</th>
	    <td>てつろう</td>
	    <td>8</td>
	    <td>東京都新宿区3丁目4番地5</td>
	</tr>
    	<tr>
	    <th scope="row">4</th>
	    <td>きんたろう</td>
	    <td>80</td>
	    <td>東京都新宿区4丁目5番地6</td>
	</tr>
	</tbody>
      </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

		<div class="container" style="margin-top: 30px;">
		<form action="sqlsample.php" method="post">
				<label for="exampleFormControlInput1" class="form-label">ユーザ名</label>
				<input type="text" class="form-control" id="exampleFormControlInput1" name="sql" >
                             		<button type="submit" class="btn btn-primary mb-3" style="margin-top:5px;">
						ユーザ情報表示
					</button>
		</form>
		</div>
	</body>
	<script>
		var myModal = document.getElementById('myModal');
		document.addEventListener("DOMContentLoaded", function(){
			document.getElementById('myInput').addEventListener('shown.bs.modal', function () {
                		if(!isStarted){}
				else{
					myInput.focus();
				}
                	});
		});
        </script> 
</html>
